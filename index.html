<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Dermatol√≥gica - Sistema Especialista</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f4f8;
            padding: 20px;
            color: #2c3e50;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: #1e3c5c;
            margin-bottom: 25px;
            font-size: 2.2em;
            border-bottom: 4px solid #3498db;
            padding-bottom: 10px;
        }

        h2 {
            color: #2c5282;
            margin: 25px 0 15px 0;
            font-size: 1.5em;
            background: #e8f0fe;
            padding: 10px;
            border-radius: 8px;
        }

        h3 {
            color: #2d3748;
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 6px solid #3498db;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2d3748;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.1);
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 200px;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #219a52;
        }

        .btn-info {
            background: #f39c12;
        }

        .btn-info:hover {
            background: #e67e22;
        }

        .result-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e2e8f0;
        }

        .hda-display {
            background: #edf7ed;
            padding: 20px;
            border-radius: 8px;
            border-left: 6px solid #27ae60;
            margin: 20px 0;
            font-size: 16px;
            line-height: 1.6;
        }

        .conduta-display {
            background: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            border-left: 6px solid #f39c12;
            margin: 20px 0;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .imc-result {
            font-size: 18px;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .imc-normal { background: #c8e6c9; color: #1b5e20; }
        .imc-sobrepeso { background: #fff9c4; color: #ff6f00; }
        .imc-obesidade { background: #ffcdd2; color: #b71c1c; }

        .medicamento-item {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .sinais-especificos {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4, .medicamento-item {
                grid-template-columns: 1fr;
            }
        }

        .lesao-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .hd-display {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            border-left: 6px solid #1976d2;
            margin: 20px 0;
            line-height: 1.6;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã Consulta Dermatol√≥gica - Sistema Especialista</h1>
        <p style="margin-bottom: 20px; color: #4a5568;">Baseado em guidelines da SBD e literatura m√©dica</p>

        <!-- Identifica√ß√£o e Dados B√°sicos -->
        <div class="card">
            <h2>1. Identifica√ß√£o do Paciente</h2>
            <div class="grid-2">
                <div class="form-group">
                    <label>Nome Completo</label>
                    <input type="text" id="nome" placeholder="Digite o nome do paciente">
                </div>
                <div class="form-group">
                    <label>Data da Consulta</label>
                    <input type="date" id="dataConsulta" value="2026-02-17">
                </div>
            </div>
            
            <div class="grid-4">
                <div class="form-group">
                    <label>Idade (anos)</label>
                    <input type="number" id="idade" min="0" max="120" onchange="calcularIMC()">
                </div>
                <div class="form-group">
                    <label>Sexo</label>
                    <select id="sexo" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="Feminino">Feminino</option>
                        <option value="Masculino">Masculino</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Peso (kg)</label>
                    <input type="number" id="peso" step="0.1" onchange="calcularIMC()">
                </div>
                <div class="form-group">
                    <label>Altura (m)</label>
                    <input type="number" id="altura" step="0.01" onchange="calcularIMC()">
                </div>
            </div>
            
            <div id="imcDisplay" class="imc-result" style="display:none;"></div>
        </div>

        <!-- Queixa Principal -->
        <div class="card">
            <h2>2. Queixa Principal</h2>
            <div class="form-group">
                <label>"O que mais incomoda o(a) senhor(a) na pele?"</label>
                <textarea id="queixa" placeholder="Ex: Manchas vermelhas que co√ßam h√° 2 meses..." onchange="gerarHDeConduta()"></textarea>
            </div>
        </div>

        <!-- Hist√≥ria Pr√©via -->
        <div class="card">
            <h2>3. Hist√≥ria Pr√©via</h2>
            <div class="grid-2">
                <div>
                    <h3>Antecedentes Dermatol√≥gicos</h3>
                    <div class="checkbox-group" id="dermatologicos">
                        <div class="checkbox-item"><input type="checkbox" value="Acne" onchange="gerarHDeConduta()"> Acne</div>
                        <div class="checkbox-item"><input type="checkbox" value="Psor√≠ase" onchange="gerarHDeConduta()"> Psor√≠ase</div>
                        <div class="checkbox-item"><input type="checkbox" value="Dermatite at√≥pica" onchange="gerarHDeConduta()"> Dermatite at√≥pica</div>
                        <div class="checkbox-item"><input type="checkbox" value="Hansen√≠ase" onchange="gerarHDeConduta()"> Hansen√≠ase</div>
                        <div class="checkbox-item"><input type="checkbox" value="Vitiligo" onchange="gerarHDeConduta()"> Vitiligo</div>
                        <div class="checkbox-item"><input type="checkbox" value="Melasma" onchange="gerarHDeConduta()"> Melasma</div>
                        <div class="checkbox-item"><input type="checkbox" value="Ros√°cea" onchange="gerarHDeConduta()"> Ros√°cea</div>
                        <div class="checkbox-item"><input type="checkbox" value="Dermatite seborreica" onchange="gerarHDeConduta()"> Dermatite seborreica</div>
                        <div class="checkbox-item"><input type="checkbox" value="C√¢ncer de pele" onchange="gerarHDeConduta()"> C√¢ncer de pele</div>
                        <div class="checkbox-item"><input type="checkbox" value="Ceratose act√≠nica" onchange="gerarHDeConduta()"> Ceratose act√≠nica</div>
                        <div class="checkbox-item"><input type="checkbox" value="L√∫pus cut√¢neo" onchange="gerarHDeConduta()"> L√∫pus cut√¢neo</div>
                        <div class="checkbox-item"><input type="checkbox" value="Escabiose" onchange="gerarHDeConduta()"> Escabiose</div>
                        <div class="checkbox-item"><input type="checkbox" value="Micoses" onchange="gerarHDeConduta()"> Micoses</div>
                        <div class="checkbox-item"><input type="checkbox" value="Alopecia areata" onchange="gerarHDeConduta()"> Alopecia areata</div>
                        <div class="checkbox-item"><input type="checkbox" value="Urtic√°ria" onchange="gerarHDeConduta()"> Urtic√°ria</div>
                    </div>
                </div>
                
                <div>
                    <h3>Antecedentes Cl√≠nicos</h3>
                    <div class="checkbox-group" id="clinicos">
                        <div class="checkbox-item"><input type="checkbox" value="Diabetes mellitus" onchange="gerarHDeConduta()"> Diabetes mellitus</div>
                        <div class="checkbox-item"><input type="checkbox" value="HAS" onchange="gerarHDeConduta()"> HAS</div>
                        <div class="checkbox-item"><input type="checkbox" value="Dislipidemia" onchange="gerarHDeConduta()"> Dislipidemia</div>
                        <div class="checkbox-item"><input type="checkbox" value="Hipotireoidismo" onchange="gerarHDeConduta()"> Hipotireoidismo</div>
                        <div class="checkbox-item"><input type="checkbox" value="Hipertireoidismo" onchange="gerarHDeConduta()"> Hipertireoidismo</div>
                        <div class="checkbox-item"><input type="checkbox" value="Doen√ßa autoimune" onchange="gerarHDeConduta()"> Doen√ßa autoimune</div>
                        <div class="checkbox-item"><input type="checkbox" value="HIV" onchange="gerarHDeConduta()"> HIV</div>
                        <div class="checkbox-item"><input type="checkbox" value="Hepatites" onchange="gerarHDeConduta()"> Hepatites</div>
                        <div class="checkbox-item"><input type="checkbox" value="Insufici√™ncia renal" onchange="gerarHDeConduta()"> Insufici√™ncia renal</div>
                        <div class="checkbox-item"><input type="checkbox" value="Neoplasias" onchange="gerarHDeConduta()"> Neoplasias</div>
                        <div class="checkbox-item"><input type="checkbox" value="Artrite reumatoide" onchange="gerarHDeConduta()"> Artrite reumatoide</div>
                        <div class="checkbox-item"><input type="checkbox" value="L√∫pus eritematoso" onchange="gerarHDeConduta()"> L√∫pus eritematoso</div>
                    </div>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="form-group">
                    <label>Alergias</label>
                    <input type="text" id="alergias" placeholder="Medicamentosas, alimentares, cosm√©ticos..." onchange="gerarHDeConduta()">
                </div>
                <div class="form-group">
                    <label>H√°bitos de Vida</label>
                    <select id="habitos" onchange="gerarHDeConduta()">
                        <option value="">Selecione os h√°bitos</option>
                        <option value="Tabagista">Tabagista</option>
                        <option value="Etilista social">Etilista social</option>
                        <option value="Etilista pesado">Etilista pesado</option>
                        <option value="Sedent√°rio">Sedent√°rio</option>
                        <option value="Ativo">Ativo</option>
                        <option value="Uso de drogas il√≠citas">Uso de drogas il√≠citas</option>
                        <option value="Sem h√°bitos relevantes">Sem h√°bitos relevantes</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Medicamentos -->
        <div class="card">
            <h2>4. Medicamentos em Uso</h2>
            <div id="medicamentos-container">
                <div class="medicamento-item">
                    <input type="text" placeholder="Nome" class="med-nome" onchange="gerarHDeConduta()">
                    <input type="text" placeholder="Dose" class="med-dose" onchange="gerarHDeConduta()">
                    <input type="text" placeholder="Tempo de uso" class="med-tempo" onchange="gerarHDeConduta()">
                    <input type="text" placeholder="Indica√ß√£o" class="med-indicacao" onchange="gerarHDeConduta()">
                </div>
            </div>
            <button class="btn" onclick="adicionarMedicamento()">+ Adicionar Medicamento</button>
        </div>

        <!-- Hist√≥ria da Doen√ßa Atual -->
        <div class="card">
            <h2>5. Hist√≥ria da Doen√ßa Atual (HDA)</h2>
            <div class="grid-3">
                <div class="form-group">
                    <label>Tempo de evolu√ß√£o</label>
                    <input type="text" id="tempoEvolucao" placeholder="Ex: 2 meses, 1 semana..." onchange="gerarHDeConduta()">
                </div>
                <div class="form-group">
                    <label>In√≠cio</label>
                    <input type="text" id="inicio" placeholder="Descreva o in√≠cio" onchange="gerarHDeConduta()">
                </div>
                <div class="form-group">
                    <label>Localiza√ß√£o inicial</label>
                    <input type="text" id="localInicial" placeholder="Onde surgiu primeiro?" onchange="gerarHDeConduta()">
                </div>
            </div>

            <h3>Sintomas Associados</h3>
            <div class="checkbox-group" id="sintomas">
                <div class="checkbox-item"><input type="checkbox" value="prurido intenso" onchange="gerarHDeConduta()"> Prurido intenso</div>
                <div class="checkbox-item"><input type="checkbox" value="prurido leve" onchange="gerarHDeConduta()"> Prurido leve</div>
                <div class="checkbox-item"><input type="checkbox" value="dor" onchange="gerarHDeConduta()"> Dor</div>
                <div class="checkbox-item"><input type="checkbox" value="ardor" onchange="gerarHDeConduta()"> Ardor</div>
                <div class="checkbox-item"><input type="checkbox" value="queima√ß√£o" onchange="gerarHDeConduta()"> Queima√ß√£o</div>
                <div class="checkbox-item"><input type="checkbox" value="descama√ß√£o" onchange="gerarHDeConduta()"> Descama√ß√£o</div>
                <div class="checkbox-item"><input type="checkbox" value="sangramento" onchange="gerarHDeConduta()"> Sangramento</div>
                <div class="checkbox-item"><input type="checkbox" value="secre√ß√£o" onchange="gerarHDeConduta()"> Secre√ß√£o</div>
                <div class="checkbox-item"><input type="checkbox" value="febre" onchange="gerarHDeConduta()"> Febre</div>
                <div class="checkbox-item"><input type="checkbox" value="mal-estar" onchange="gerarHDeConduta()"> Mal-estar</div>
                <div class="checkbox-item"><input type="checkbox" value="artralgia" onchange="gerarHDeConduta()"> Artralgia</div>
                <div class="checkbox-item"><input type="checkbox" value="adenomegalia" onchange="gerarHDeConduta()"> Adenomegalia</div>
            </div>

            <div class="grid-2">
                <div>
                    <h3>Fatores de Melhora</h3>
                    <div class="checkbox-group" id="melhora">
                        <div class="checkbox-item"><input type="checkbox" value="repouso" onchange="gerarHDeConduta()"> Repouso</div>
                        <div class="checkbox-item"><input type="checkbox" value="hidrata√ß√£o" onchange="gerarHDeConduta()"> Hidrata√ß√£o</div>
                        <div class="checkbox-item"><input type="checkbox" value="corticoides" onchange="gerarHDeConduta()"> Corticoides</div>
                        <div class="checkbox-item"><input type="checkbox" value="anti-histam√≠nicos" onchange="gerarHDeConduta()"> Anti-histam√≠nicos</div>
                        <div class="checkbox-item"><input type="checkbox" value="clima frio" onchange="gerarHDeConduta()"> Clima frio</div>
                        <div class="checkbox-item"><input type="checkbox" value="clima √∫mido" onchange="gerarHDeConduta()"> Clima √∫mido</div>
                    </div>
                </div>
                
                <div>
                    <h3>Fatores de Piora</h3>
                    <div class="checkbox-group" id="piora">
                        <div class="checkbox-item"><input type="checkbox" value="estresse" onchange="gerarHDeConduta()"> Estresse</div>
                        <div class="checkbox-item"><input type="checkbox" value="exposi√ß√£o solar" onchange="gerarHDeConduta()"> Exposi√ß√£o solar</div>
                        <div class="checkbox-item"><input type="checkbox" value="calor" onchange="gerarHDeConduta()"> Calor</div>
                        <div class="checkbox-item"><input type="checkbox" value="frio" onchange="gerarHDeConduta()"> Frio</div>
                        <div class="checkbox-item"><input type="checkbox" value="banho quente" onchange="gerarHDeConduta()"> Banho quente</div>
                        <div class="checkbox-item"><input type="checkbox" value="sabonetes" onchange="gerarHDeConduta()"> Sabonetes</div>
                        <div class="checkbox-item"><input type="checkbox" value="tecidos sint√©ticos" onchange="gerarHDeConduta()"> Tecidos sint√©ticos</div>
                        <div class="checkbox-item"><input type="checkbox" value="alimentos" onchange="gerarHDeConduta()"> Alimentos</div>
                        <div class="checkbox-item"><input type="checkbox" value="√°lcool" onchange="gerarHDeConduta()"> √Ålcool</div>
                        <div class="checkbox-item"><input type="checkbox" value="medicamentos" onchange="gerarHDeConduta()"> Medicamentos</div>
                        <div class="checkbox-item"><input type="checkbox" value="suor" onchange="gerarHDeConduta()"> Suor</div>
                        <div class="checkbox-item"><input type="checkbox" value="atrito" onchange="gerarHDeConduta()"> Atrito</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Tratamentos pr√©vios realizados</label>
                <textarea id="tratamentosPrevios" placeholder="Pomadas, corticoides, antif√∫ngicos..." onchange="gerarHDeConduta()"></textarea>
            </div>
        </div>

        <!-- Exame F√≠sico Dermatol√≥gico -->
        <div class="card">
            <h2>6. Exame F√≠sico Dermatol√≥gico</h2>
            
            <h3>6.1 Inspe√ß√£o Geral</h3>
            <div class="grid-2">
                <div class="form-group">
                    <label>Cor da pele</label>
                    <select id="corPele" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="Branca">Branca</option>
                        <option value="Parda">Parda</option>
                        <option value="Negra">Negra</option>
                        <option value="Amarela">Amarela</option>
                        <option value="Albina">Albina</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Textura</label>
                    <select id="textura" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="√°spera">√Åspera</option>
                        <option value="lisa">Lisa</option>
                        <option value="enrugada">Enrugada</option>
                        <option value="acerinada">Acerinada</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Hidrata√ß√£o</label>
                    <select id="hidratacao" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="xer√≥tica">Xer√≥tica (seca)</option>
                        <option value="sudorenta">Sudorenta</option>
                        <option value="descamativa">Descamativa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Elasticidade/Turgor</label>
                    <select id="turgor" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="diminu√≠do">Diminu√≠do</option>
                        <option value="aumentado">Aumentado</option>
                    </select>
                </div>
            </div>

            <h3>6.2 Les√µes Elementares</h3>
            <div id="lesoes-container">
                <div class="lesao-card">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Tipo de les√£o</label>
                            <select class="tipo-lesao" onchange="gerarHDeConduta()">
                                <option value="">Selecione</option>
                                <optgroup label="Conte√∫do L√≠quido">
                                    <option value="ves√≠cula">Ves√≠cula (&lt;1cm)</option>
                                    <option value="bolha">Bolha (&gt;1cm)</option>
                                    <option value="p√∫stula">P√∫stula</option>
                                    <option value="abscesso">Abscesso</option>
                                    <option value="hematoma">Hematoma</option>
                                    <option value="cisto">Cisto</option>
                                </optgroup>
                                <optgroup label="Les√µes Planas (M√°culas)">
                                    <option value="m√°cula eritematosa">M√°cula eritematosa</option>
                                    <option value="m√°cula hipocr√¥mica">M√°cula hipocr√¥mica</option>
                                    <option value="m√°cula hipercr√¥mica">M√°cula hipercr√¥mica</option>
                                    <option value="m√°cula acr√¥mica">M√°cula acr√¥mica</option>
                                    <option value="p√∫rpura">P√∫rpura</option>
                                    <option value="equimose">Equimose</option>
                                    <option value="telangiectasia">Telangiectasia</option>
                                    <option value="mancha angiomatosa">Mancha angiomatosa</option>
                                </optgroup>
                                <optgroup label="Les√µes S√≥lidas">
                                    <option value="p√°pula">P√°pula (&lt;1cm)</option>
                                    <option value="placa">Placa (&gt;1cm)</option>
                                    <option value="n√≥dulo">N√≥dulo (1-3cm)</option>
                                    <option value="tumor">Tumor (&gt;3cm)</option>
                                    <option value="goma">Goma</option>
                                    <option value="urtica">Urtica</option>
                                    <option value="vegeta√ß√£o">Vegeta√ß√£o</option>
                                    <option value="verrucosidade">Verrucosidade</option>
                                </optgroup>
                                <optgroup label="Les√µes Secund√°rias">
                                    <option value="atrofia">Atrofia</option>
                                    <option value="cicatriz hipertr√≥fica">Cicatriz hipertr√≥fica</option>
                                    <option value="cicatriz atr√≥fica">Cicatriz atr√≥fica</option>
                                    <option value="liquenifica√ß√£o">Liquenifica√ß√£o</option>
                                    <option value="queratose">Queratose</option>
                                    <option value="crosta hem√°tica">Crosta hem√°tica</option>
                                    <option value="crosta serosa">Crosta serosa</option>
                                    <option value="crosta purulenta">Crosta purulenta</option>
                                    <option value="eros√£o">Eros√£o/Exulcera√ß√£o</option>
                                    <option value="√∫lcera">√ölcera</option>
                                    <option value="escama furfur√°cea">Escama furfur√°cea</option>
                                    <option value="escama laminar">Escama laminar</option>
                                    <option value="escara">Escara</option>
                                    <option value="fissura">Fissura/R√°gade</option>
                                    <option value="f√≠stula">F√≠stula</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Cor</label>
                            <select class="cor-lesao" onchange="gerarHDeConduta()">
                                <option value="">Selecione</option>
                                <option value="eritematosa">Eritematosa</option>
                                <option value="viol√°cea">Viol√°cea</option>
                                <option value="acastanhada">Acastanhada</option>
                                <option value="hipocr√¥mica">Hipocr√¥mica</option>
                                <option value="hipercr√¥mica">Hipercr√¥mica</option>
                                <option value="acr√¥mica">Acr√¥mica</option>
                                <option value="amarelada">Amarelada</option>
                                <option value="esbranqui√ßada">Esbranqui√ßada</option>
                                <option value="acinzentada">Acizinzentada</option>
                                <option value="enegrecida">Enegrecida</option>
                                <option value="p√∫rpura">P√∫rpura</option>
                                <option value="cian√≥tica">Cian√≥tica</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Forma</label>
                            <select class="forma-lesao" onchange="gerarHDeConduta()">
                                <option value="">Selecione</option>
                                <option value="circular">Circular</option>
                                <option value="anular">Anular</option>
                                <option value="anelar">Anelar</option>
                                <option value="polic√≠clica">Polic√≠clica</option>
                                <option value="linear">Linear</option>
                                <option value="arciforme">Arciforme</option>
                                <option value="serpiginosa">Serpiginosa</option>
                                <option value="irregular">Irregular</option>
                                <option value="oval">Oval</option>
                                <option value="digitiforme">Digitiforme</option>
                                <option value="zosteriforme">Zosteriforme</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Bordas</label>
                            <select class="bordas-lesao" onchange="gerarHDeConduta()">
                                <option value="n√≠tidas">N√≠tidas</option>
                                <option value="mal definidas">Mal definidas</option>
                                <option value="elevadas">Elevadas</option>
                                <option value="planas">Planas</option>
                                <option value="regulares">Regulares</option>
                                <option value="irregulares">Irregulares</option>
                                <option value="erosivas">Erosivas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Superf√≠cie</label>
                            <select class="superficie-lesao" onchange="gerarHDeConduta()">
                                <option value="">Selecione</option>
                                <option value="lisa">Lisa</option>
                                <option value="descamativa">Descamativa</option>
                                <option value="crostosa">Crostosa</option>
                                <option value="verrucosa">Verrucosa</option>
                                <option value="ulcerada">Ulcerada</option>
                                <option value="papilomatosa">Papilomatosa</option>
                                <option value="atr√≥fica">Atr√≥fica</option>
                                <option value="brilhante">Brilhante</option>
                                <option value="fina">Fina</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Distribui√ß√£o</label>
                            <select class="distribuicao-lesao" onchange="gerarHDeConduta()">
                                <option value="">Selecione</option>
                                <option value="localizada">Localizada</option>
                                <option value="disseminada">Disseminada</option>
                                <option value="generalizada">Generalizada</option>
                                <option value="sim√©trica">Sim√©trica</option>
                                <option value="assim√©trica">Assim√©trica</option>
                                <option value="fotoexposta">√Åreas fotoexpostas</option>
                                <option value="flexoras">Flexoras</option>
                                <option value="extensoras">Extensoras</option>
                                <option value="intertriginosa">Intertriginosa</option>
                                <option value="segmentar">Segmentar</option>
                                <option value="zosteriforme">Zosteriforme</option>
                                <option value="acral">Acral</option>
                                <option value="centr√≠fuga">Centr√≠fuga</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn" onclick="adicionarLesao()">+ Adicionar Les√£o</button>

            <h3>6.3 Sinais Dermatol√≥gicos Espec√≠ficos</h3>
            <div class="sinais-especificos">
                <div class="checkbox-item"><input type="checkbox" value="Darier" onchange="gerarHDeConduta()"> Sinal de Darier (mastocitose)</div>
                <div class="checkbox-item"><input type="checkbox" value="Koebner" onchange="gerarHDeConduta()"> Sinal de Koebner (isom√≥rfico)</div>
                <div class="checkbox-item"><input type="checkbox" value="Patergia" onchange="gerarHDeConduta()"> Patergia</div>
                <div class="checkbox-item"><input type="checkbox" value="Zireli" onchange="gerarHDeConduta()"> Sinal de Zireli</div>
                <div class="checkbox-item"><input type="checkbox" value="Nikolsky" onchange="gerarHDeConduta()"> Sinal de Nikolsky</div>
                <div class="checkbox-item"><input type="checkbox" value="Auspitz" onchange="gerarHDeConduta()"> Sinal de Auspitz</div>
                <div class="checkbox-item"><input type="checkbox" value="Dermatografismo" onchange="gerarHDeConduta()"> Dermatografismo</div>
            </div>

            <h3>6.4 F√¢neros</h3>
            <div class="grid-3">
                <div class="form-group">
                    <label>Unhas</label>
                    <select id="unhas" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="Normais">Normais</option>
                        <option value="Coilon√≠quia">Coilon√≠quia (unha em colher)</option>
                        <option value="Pitting">Pitting (depress√µes puntiformes)</option>
                        <option value="Onic√≥lise">Onic√≥lise</option>
                        <option value="Onicomicose">Onicomicose</option>
                        <option value="Unhas de Plummer">Unhas de Plummer</option>
                        <option value="Unhas de Terry">Unhas de Terry</option>
                        <option value="Unhas de Lindsay">Unhas de Lindsay</option>
                        <option value="Hipocratismo digital">Hipocratismo digital</option>
                        <option value="Leucon√≠quia">Leucon√≠quia</option>
                        <option value="Melanon√≠quia">Melanon√≠quia</option>
                        <option value="Hemorrhagia em estilha">Hemorragia em estilha</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Cabelos/Pelos</label>
                    <select id="cabelos" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="Normais">Normais</option>
                        <option value="Alopecia androgen√©tica">Alopecia androgen√©tica</option>
                        <option value="Alopecia areata">Alopecia areata</option>
                        <option value="Efl√∫vio tel√≥geno">Efl√∫vio tel√≥geno</option>
                        <option value="Hipertricose">Hipertricose</option>
                        <option value="Hirsutismo">Hirsutismo</option>
                        <option value="Pili torti">Pili torti</option>
                        <option value="Moniletrix">Moniletrix</option>
                        <option value="Tricorrexe nodosa">Tricorrexe nodosa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Mucosas</label>
                    <select id="mucosas" onchange="gerarHDeConduta()">
                        <option value="">Selecione</option>
                        <option value="Normais">Normais</option>
                        <option value="Enantema">Enantema</option>
                        <option value="Placas esbranqui√ßadas">Placas esbranqui√ßadas</option>
                        <option value="Les√µes erosivas">Les√µes erosivas</option>
                        <option value="√ölceras">√ölceras</option>
                        <option value="Leucoplasia">Leucoplasia</option>
                        <option value="Eritroplasia">Eritroplasia</option>
                        <option value="Telangiectasias">Telangiectasias</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Hip√≥teses e Conduta -->
        <div class="card">
            <h2>7. Hip√≥teses Diagn√≥sticas</h2>
            <div id="hdDisplay" class="hd-display">
                <strong>Hip√≥tese Diagn√≥stica:</strong> Aguardando informa√ß√µes...<br>
                <strong>Diagn√≥stico(s) Diferencial(is):</strong> --
            </div>

            <h2>8. Conduta</h2>
            <button class="btn btn-info" onclick="gerarCondutaManual()">‚öïÔ∏è Atualizar Conduta</button>
            
            <div id="condutaGerada" class="conduta-display">
                <strong>Conduta baseada em evid√™ncias ser√° gerada automaticamente...</strong>
            </div>

            <div class="form-group">
                <label>Exames Complementares</label>
                <div class="checkbox-group" id="exames">
                    <div class="checkbox-item"><input type="checkbox" value="Micol√≥gico direto" onchange="gerarCondutaManual()"> Micol√≥gico direto</div>
                    <div class="checkbox-item"><input type="checkbox" value="Baciloscopia" onchange="gerarCondutaManual()"> Baciloscopia</div>
                    <div class="checkbox-item"><input type="checkbox" value="Bi√≥psia de pele" onchange="gerarCondutaManual()"> Bi√≥psia de pele</div>
                    <div class="checkbox-item"><input type="checkbox" value="Dermatoscopia" onchange="gerarCondutaManual()"> Dermatoscopia</div>
                    <div class="checkbox-item"><input type="checkbox" value="Sorologias" onchange="gerarCondutaManual()"> Sorologias (HIV, s√≠filis, hepatites)</div>
                    <div class="checkbox-item"><input type="checkbox" value="Hemograma" onchange="gerarCondutaManual()"> Hemograma</div>
                    <div class="checkbox-item"><input type="checkbox" value="PCR/VHS" onchange="gerarCondutaManual()"> PCR/VHS</div>
                    <div class="checkbox-item"><input type="checkbox" value="Glicemia" onchange="gerarCondutaManual()"> Glicemia</div>
                    <div class="checkbox-item"><input type="checkbox" value="Fun√ß√£o tireoidiana" onchange="gerarCondutaManual()"> Fun√ß√£o tireoidiana</div>
                    <div class="checkbox-item"><input type="checkbox" value="Autoanticorpos" onchange="gerarCondutaManual()"> Autoanticorpos (FAN, anti-DNA)</div>
                    <div class="checkbox-item"><input type="checkbox" value="Cultura bacteriana" onchange="gerarCondutaManual()"> Cultura bacteriana</div>
                    <div class="checkbox-item"><input type="checkbox" value="Imunofluoresc√™ncia" onchange="gerarCondutaManual()"> Imunofluoresc√™ncia</div>
                </div>
            </div>
        </div>

        <!-- Bot√µes Finais -->
        <div style="display: flex; gap: 10px; margin: 30px 0; flex-wrap: wrap;">
            <button class="btn btn-success" onclick="gerarRelatorioCompleto()">üìã Gerar Relat√≥rio Completo</button>
            <button class="btn" onclick="copiarTexto()">üìã Copiar Relat√≥rio</button>
            <button class="btn" onclick="limparFormulario()">üîÑ Novo Atendimento</button>
        </div>

        <!-- Relat√≥rio Completo -->
        <div class="result-box" id="relatorioCompleto" style="display:none;">
            <h3>üìÑ RELAT√ìRIO DA CONSULTA DERMATOL√ìGICA</h3>
            <div id="conteudoRelatorio" style="white-space: pre-wrap; line-height: 1.6;"></div>
        </div>
        
        <footer>
            Baseado em guidelines da Sociedade Brasileira de Dermatologia e literatura m√©dica atualizada
        </footer>
    </div>

    <script>
        // Fun√ß√µes auxiliares
        function calcularIMC() {
            const peso = parseFloat(document.getElementById('peso').value);
            const altura = parseFloat(document.getElementById('altura').value);
            const imcDisplay = document.getElementById('imcDisplay');
            
            if (peso && altura && peso > 0 && altura > 0) {
                const imc = peso / (altura * altura);
                const imcClassificacao = classificarIMC(imc);
                
                imcDisplay.style.display = 'block';
                imcDisplay.innerHTML = `<strong>IMC:</strong> ${imc.toFixed(2)} kg/m¬≤ - ${imcClassificacao}`;
                imcDisplay.className = `imc-result ${getIMCClass(imc)}`;
            }
        }

        function classificarIMC(imc) {
            if (imc < 18.5) return 'Abaixo do peso';
            if (imc < 25) return 'Peso normal';
            if (imc < 30) return 'Sobrepeso';
            if (imc < 35) return 'Obesidade grau I';
            if (imc < 40) return 'Obesidade grau II';
            return 'Obesidade grau III';
        }

        function getIMCClass(imc) {
            if (imc < 25) return 'imc-normal';
            if (imc < 30) return 'imc-sobrepeso';
            return 'imc-obesidade';
        }

        function adicionarMedicamento() {
            const container = document.getElementById('medicamentos-container');
            const novoMed = document.createElement('div');
            novoMed.className = 'medicamento-item';
            novoMed.innerHTML = `
                <input type="text" placeholder="Nome" class="med-nome" onchange="gerarHDeConduta()">
                <input type="text" placeholder="Dose" class="med-dose" onchange="gerarHDeConduta()">
                <input type="text" placeholder="Tempo de uso" class="med-tempo" onchange="gerarHDeConduta()">
                <input type="text" placeholder="Indica√ß√£o" class="med-indicacao" onchange="gerarHDeConduta()">
            `;
            container.appendChild(novoMed);
        }

        function adicionarLesao() {
            const container = document.getElementById('lesoes-container');
            const novaLesao = document.createElement('div');
            novaLesao.className = 'lesao-card';
            novaLesao.innerHTML = `
                <div class="grid-2">
                    <div class="form-group">
                        <label>Tipo de les√£o</label>
                        <select class="tipo-lesao" onchange="gerarHDeConduta()">
                            <option value="">Selecione</option>
                            <optgroup label="Conte√∫do L√≠quido">
                                <option value="ves√≠cula">Ves√≠cula (&lt;1cm)</option>
                                <option value="bolha">Bolha (&gt;1cm)</option>
                                <option value="p√∫stula">P√∫stula</option>
                                <option value="abscesso">Abscesso</option>
                                <option value="hematoma">Hematoma</option>
                                <option value="cisto">Cisto</option>
                            </optgroup>
                            <optgroup label="Les√µes Planas (M√°culas)">
                                <option value="m√°cula eritematosa">M√°cula eritematosa</option>
                                <option value="m√°cula hipocr√¥mica">M√°cula hipocr√¥mica</option>
                                <option value="m√°cula hipercr√¥mica">M√°cula hipercr√¥mica</option>
                                <option value="p√∫rpura">P√∫rpura</option>
                                <option value="telangiectasia">Telangiectasia</option>
                            </optgroup>
                            <optgroup label="Les√µes S√≥lidas">
                                <option value="p√°pula">P√°pula (&lt;1cm)</option>
                                <option value="placa">Placa (&gt;1cm)</option>
                                <option value="n√≥dulo">N√≥dulo (1-3cm)</option>
                                <option value="tumor">Tumor (&gt;3cm)</option>
                                <option value="goma">Goma</option>
                                <option value="urtica">Urtica</option>
                                <option value="vegeta√ß√£o">Vegeta√ß√£o</option>
                                <option value="verrucosidade">Verrucosidade</option>
                            </optgroup>
                            <optgroup label="Les√µes Secund√°rias">
                                <option value="atrofia">Atrofia</option>
                                <option value="cicatriz">Cicatriz</option>
                                <option value="liquenifica√ß√£o">Liquenifica√ß√£o</option>
                                <option value="queratose">Queratose</option>
                                <option value="crosta">Crosta</option>
                                <option value="eros√£o">Eros√£o/Exulcera√ß√£o</option>
                                <option value="√∫lcera">√ölcera</option>
                                <option value="escama">Escama</option>
                                <option value="escara">Escara</option>
                                <option value="fissura">Fissura/R√°gade</option>
                                <option value="f√≠stula">F√≠stula</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Cor</label>
                        <select class="cor-lesao" onchange="gerarHDeConduta()">
                            <option value="">Selecione</option>
                            <option value="eritematosa">Eritematosa</option>
                            <option value="viol√°cea">Viol√°cea</option>
                            <option value="acastanhada">Acastanhada</option>
                            <option value="hipocr√¥mica">Hipocr√¥mica</option>
                            <option value="hipercr√¥mica">Hipercr√¥mica</option>
                            <option value="amarelada">Amarelada</option>
                            <option value="esbranqui√ßada">Esbranqui√ßada</option>
                            <option value="enegrecida">Enegrecida</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Forma</label>
                        <select class="forma-lesao" onchange="gerarHDeConduta()">
                            <option value="">Selecione</option>
                            <option value="circular">Circular</option>
                            <option value="anular">Anular</option>
                            <option value="linear">Linear</option>
                            <option value="irregular">Irregular</option>
                            <option value="zosteriforme">Zosteriforme</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Bordas</label>
                        <select class="bordas-lesao" onchange="gerarHDeConduta()">
                            <option value="n√≠tidas">N√≠tidas</option>
                            <option value="mal definidas">Mal definidas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Superf√≠cie</label>
                        <select class="superficie-lesao" onchange="gerarHDeConduta()">
                            <option value="">Selecione</option>
                            <option value="lisa">Lisa</option>
                            <option value="descamativa">Descamativa</option>
                            <option value="crostosa">Crostosa</option>
                            <option value="verrucosa">Verrucosa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Distribui√ß√£o</label>
                        <select class="distribuicao-lesao" onchange="gerarHDeConduta()">
                            <option value="">Selecione</option>
                            <option value="localizada">Localizada</option>
                            <option value="disseminada">Disseminada</option>
                            <option value="sim√©trica">Sim√©trica</option>
                            <option value="fotoexposta">√Åreas fotoexpostas</option>
                            <option value="flexoras">Flexoras</option>
                            <option value="extensoras">Extensoras</option>
                        </select>
                    </div>
                </div>
            `;
            container.appendChild(novaLesao);
        }

        function gerarHDeConduta() {
            const hipotese = gerarHipoteseDiagnostica();
            const diagnosticoDiferencial = gerarDiagnosticoDiferencial();
            
            document.getElementById('hdDisplay').innerHTML = `
                <strong>Hip√≥tese Diagn√≥stica:</strong> ${hipotese}<br>
                <strong>Diagn√≥stico(s) Diferencial(is):</strong> ${diagnosticoDiferencial}
            `;
            
            gerarCondutaAutomatica(hipotese);
        }

        function gerarHipoteseDiagnostica() {
            const lesoes = document.querySelectorAll('.lesao-card');
            const sintomas = Array.from(document.querySelectorAll('#sintomas input:checked')).map(cb => cb.value);
            const localizacao = document.getElementById('localInicial').value;
            const tempo = document.getElementById('tempoEvolucao').value;
            const fatoresPiora = Array.from(document.querySelectorAll('#piora input:checked')).map(cb => cb.value);
            
            let hipotese = "Em investiga√ß√£o";
            
            // L√≥gica para gerar hip√≥tese baseada nos achados
            if (lesoes.length > 0) {
                const tipoLesao = lesoes[0].querySelector('.tipo-lesao')?.value || '';
                
                if (tipoLesao.includes('placa') && tipoLesao.includes('descamativa') && sintomas.includes('prurido')) {
                    hipotese = "Psor√≠ase em placas";
                } else if (tipoLesao.includes('ves√≠cula') && localizacao.includes('herpes')) {
                    hipotese = "Herpes simplex / Herpes zoster";
                } else if (tipoLesao.includes('m√°cula hipocr√¥mica') && localizacao.includes('tronco')) {
                    hipotese = "Pitir√≠ase versicolor";
                } else if (tipoLesao.includes('p√°pula') && localizacao.includes('face') && fatoresPiora.includes('exposi√ß√£o solar')) {
                    hipotese = "Melasma / Ceratose act√≠nica";
                } else if (tipoLesao.includes('urtica') && sintomas.includes('prurido intenso')) {
                    hipotese = "Urtic√°ria";
                } else if (tipoLesao.includes('liquenifica√ß√£o') && fatoresPiora.includes('estresse')) {
                    hipotese = "Dermatite at√≥pica / Eczema cr√¥nico";
                } else if (tipoLesao.includes('p√∫stula') && localizacao.includes('face')) {
                    hipotese = "Acne vulgar";
                } else if (tipoLesao.includes('n√≥dulo')) {
                    hipotese = "Neoplasia cut√¢nea a esclarecer";
                } else {
                    hipotese = "Dermatose inflamat√≥ria inespec√≠fica";
                }
            }
            
            return hipotese;
        }

        function gerarDiagnosticoDiferencial() {
            const hipotese = gerarHipoteseDiagnostica();
            
            const diferenciais = {
                "Psor√≠ase em placas": "Dermatite seborreica, L√≠quen plano, Pitir√≠ase rubra pilar, Eczema cr√¥nico",
                "Herpes simplex / Herpes zoster": "Impetigo, Dermatite de contato, Varicela, Estomatite aftosa",
                "Pitir√≠ase versicolor": "Vitiligo, Pitir√≠ase alba, Hansen√≠ase indeterminada, Hipocromia p√≥s-inflamat√≥ria",
                "Melasma / Ceratose act√≠nica": "Lentigo solar, Melanose, Nevus, Carcinoma basocelular superficial",
                "Urtic√°ria": "Dermatografismo, Urtic√°ria vasculite, Eritema multiforme, Mastocitose",
                "Dermatite at√≥pica / Eczema cr√¥nico": "Dermatite de contato, Psor√≠ase, Ictiose, L√≠quen simples cr√¥nico",
                "Acne vulgar": "Ros√°cea, Foliculite, Dermatite perioral, Hiperplasia seb√°cea",
                "Neoplasia cut√¢nea a esclarecer": "Ceratose act√≠nica, Ceratoacantoma, Nevus at√≠pico, Dermatofibroma"
            };
            
            return diferenciais[hipotese] || "Considerar outras dermatoses inflamat√≥rias, infecciosas ou neopl√°sicas";
        }

        function gerarCondutaAutomatica(hipotese) {
            const examesSelecionados = Array.from(document.querySelectorAll('#exames input:checked')).map(cb => cb.value);
            
            let conduta = `**CONDUTA BASEADA EM EVID√äNCIAS**\n\n`;
            conduta += `Com base na hip√≥tese diagn√≥stica de "${hipotese}", recomenda-se:\n\n`;
            
            // Orienta√ß√µes gerais (sempre presentes)
            conduta += `1. **ORIENTA√á√ïES GERAIS DE CUIDADO CUT√ÇNEO:**\n`;
            conduta += `   ‚Ä¢ Limpeza suave com sabonetes syndet ou neutros, evitar banhos muito quentes\n`;
            conduta += `   ‚Ä¢ Hidrata√ß√£o di√°ria com cremes/lo√ß√µes emolientes, principalmente p√≥s-banho\n`;
            conduta += `   ‚Ä¢ Fotoprote√ß√£o rigorosa com FPS ‚â• 30, reaplicar a cada 3-4h, evitar exposi√ß√£o solar excessiva\n`;
            conduta += `   ‚Ä¢ Evitar fatores desencadeantes identificados (estresse, alimentos, tecidos sint√©ticos)\n`;
            conduta += `   ‚Ä¢ Orientar sobre a doen√ßa, cronograma de tratamento e sinais de alerta\n\n`;
            
            // Orienta√ß√µes espec√≠ficas por hip√≥tese
            conduta += `2. **TRATAMENTO ESPEC√çFICO:**\n`;
            
            if (hipotese.includes("Psor√≠ase")) {
                conduta += `   ‚Ä¢ Corticoides t√≥picos de m√©dia/alta pot√™ncia (ex: betametasona, clobetasol) em ciclos\n`;
                conduta += `   ‚Ä¢ An√°logos de vitamina D (calcipotriol) associados ou isolados\n`;
                conduta += `   ‚Ä¢ Em casos extensos: fototerapia ou imunobiol√≥gicos\n`;
            } else if (hipotese.includes("Herpes")) {
                conduta += `   ‚Ä¢ Antivirais sist√™micos: aciclovir 400mg 5x/dia ou valaciclovir 1g 2x/dia por 7-10 dias\n`;
                conduta += `   ‚Ä¢ Antiss√©pticos t√≥picos e analg√©sicos se necess√°rio\n`;
            } else if (hipotese.includes("Pitir√≠ase versicolor")) {
                conduta += `   ‚Ä¢ Antif√∫ngicos t√≥picos: cetoconazol, clotrimazol ou terbinafina creme por 2-4 semanas\n`;
                conduta += `   ‚Ä¢ Casos extensos: itraconazol ou fluconazol via oral\n`;
            } else if (hipotese.includes("Melasma")) {
                conduta += `   ‚Ä¢ Fotoprote√ß√£o rigorosa com protetor f√≠sico\n`;
                conduta += `   ‚Ä¢ Clareadores t√≥picos: hidroquinona, √°cido retin√≥ico, √°cido azel√°ico\n`;
            } else if (hipotese.includes("Urtic√°ria")) {
                conduta += `   ‚Ä¢ Anti-histam√≠nicos n√£o sedantes: loratadina, desloratadina, fexofenadina\n`;
                conduta += `   ‚Ä¢ Evitar fatores desencadeantes e uso de AAS\n`;
            } else if (hipotese.includes("Dermatite at√≥pica")) {
                conduta += `   ‚Ä¢ Corticoides t√≥picos de baixa pot√™ncia em √°reas sens√≠veis\n`;
                conduta += `   ‚Ä¢ Imunomoduladores t√≥picos (tacrolimo/pimecrolimo) como poupadores de corticoide\n`;
                conduta += `   ‚Ä¢ Hidrata√ß√£o intensiva e evitar banhos quentes\n`;
            } else if (hipotese.includes("Acne")) {
                conduta += `   ‚Ä¢ Per√≥xido de benzo√≠la + clindamicina t√≥pica para les√µes inflamat√≥rias\n`;
                conduta += `   ‚Ä¢ Retinoides t√≥picos (adapaleno, tretino√≠na) para comed√µes\n`;
                conduta += `   ‚Ä¢ Casos moderados/graves: isotretino√≠na oral ou antibi√≥ticos sist√™micos\n`;
            } else {
                conduta += `   ‚Ä¢ Tratamento a ser definido ap√≥s confirma√ß√£o diagn√≥stica\n`;
            }
            
            conduta += `\n3. **EXAMES COMPLEMENTARES:**\n`;
            if (examesSelecionados.length > 0) {
                examesSelecionados.forEach(exame => conduta += `   ‚Ä¢ ${exame}\n`);
            } else {
                conduta += `   ‚Ä¢ Nenhum exame solicitado no momento\n`;
            }
            
            conduta += `\n4. **RETORNO:**\n`;
            conduta += `   ‚Ä¢ Agendar retorno em 30-60 dias para reavalia√ß√£o\n`;
            conduta += `   ‚Ä¢ Retornar antes se piora dos sintomas, sinais de infec√ß√£o ou rea√ß√µes adversas`;
            
            document.getElementById('condutaGerada').innerHTML = conduta.replace(/\n/g, '<br>');
        }

        function gerarCondutaManual() {
            const hipotese = document.getElementById('hdDisplay').innerHTML.split('Hip√≥tese Diagn√≥stica:</strong>')[1]?.split('<br>')[0]?.trim() || "Em investiga√ß√£o";
            gerarCondutaAutomatica(hipotese);
        }

        function gerarRelatorioCompleto() {
            let relatorio = '';
            
            // Identifica√ß√£o
            const nome = document.getElementById('nome').value || 'N√£o informado';
            const idade = document.getElementById('idade').value || 'N√£o informada';
            const sexo = document.getElementById('sexo').value || 'N√£o informado';
            const peso = document.getElementById('peso').value || 'N√£o informado';
            const altura = document.getElementById('altura').value || 'N√£o informado';
            const dataConsulta = document.getElementById('dataConsulta').value || new Date().toLocaleDateString();
            
            relatorio += `**IDENTIFICA√á√ÉO**\n`;
            relatorio += `Nome: ${nome} | Idade: ${idade} | Sexo: ${sexo}\n`;
            relatorio += `Peso: ${peso}kg | Altura: ${altura}m\n`;
            if (peso !== 'N√£o informado' && altura !== 'N√£o informado' && !isNaN(peso) && !isNaN(altura) && peso > 0 && altura > 0) {
                const imc = (parseFloat(peso) / (parseFloat(altura) * parseFloat(altura))).toFixed(2);
                const classificacao = classificarIMC(parseFloat(imc));
                relatorio += `IMC: ${imc} kg/m¬≤ (${classificacao})\n`;
            }
            relatorio += `Data da consulta: ${dataConsulta}\n\n`;
            
            // Queixa Principal
            const queixa = document.getElementById('queixa').value || 'N√£o informada';
            relatorio += `**QUEIXA PRINCIPAL**\n${queixa}\n\n`;
            
            // Antecedentes
            relatorio += `**ANTECEDENTES PESSOAIS**\n`;
            const dermPrevias = Array.from(document.querySelectorAll('#dermatologicos input:checked')).map(cb => cb.value);
            relatorio += `Dermatol√≥gicos: ${dermPrevias.length > 0 ? dermPrevias.join(', ') : 'Nenhum'}\n`;
            
            const clinPrevios = Array.from(document.querySelectorAll('#clinicos input:checked')).map(cb => cb.value);
            relatorio += `Cl√≠nicos: ${clinPrevios.length > 0 ? clinPrevios.join(', ') : 'Nenhum'}\n`;
            
            const alergias = document.getElementById('alergias').value;
            if (alergias) relatorio += `Alergias: ${alergias}\n`;
            
            const habitos = document.getElementById('habitos').value;
            if (habitos) relatorio += `H√°bitos: ${habitos}\n`;
            relatorio += `\n`;
            
            // HDA
            const tempo = document.getElementById('tempoEvolucao').value;
            const inicio = document.getElementById('inicio').value;
            const localInicial = document.getElementById('localInicial').value;
            const sintomas = Array.from(document.querySelectorAll('#sintomas input:checked')).map(cb => cb.value);
            const melhora = Array.from(document.querySelectorAll('#melhora input:checked')).map(cb => cb.value);
            const piora = Array.from(document.querySelectorAll('#piora input:checked')).map(cb => cb.value);
            
            relatorio += `**HIST√ìRIA DA DOEN√áA ATUAL**\n`;
            if (tempo) relatorio += `Tempo de evolu√ß√£o: ${tempo}\n`;
            if (inicio) relatorio += `In√≠cio: ${inicio}\n`;
            if (localInicial) relatorio += `Localiza√ß√£o inicial: ${localInicial}\n`;
            if (sintomas.length > 0) relatorio += `Sintomas: ${sintomas.join(', ')}\n`;
            if (melhora.length > 0) relatorio += `Fatores de melhora: ${melhora.join(', ')}\n`;
            if (piora.length > 0) relatorio += `Fatores de piora: ${piora.join(', ')}\n`;
            relatorio += `\n`;
            
            // Exame F√≠sico
            relatorio += `**EXAME F√çSICO DERMATOL√ìGICO**\n`;
            relatorio += `Cor: ${document.getElementById('corPele').value || 'N√£o informada'}\n`;
            relatorio += `Textura: ${document.getElementById('textura').value || 'N√£o informada'}\n`;
            relatorio += `Hidrata√ß√£o: ${document.getElementById('hidratacao').value || 'N√£o informada'}\n`;
            
            // Les√µes
            const lesoes = document.querySelectorAll('.lesao-card');
            if (lesoes.length > 0) {
                relatorio += `\n**LES√ïES ELEMENTARES**\n`;
                lesoes.forEach((lesao, index) => {
                    const tipo = lesao.querySelector('.tipo-lesao')?.value || '';
                    const cor = lesao.querySelector('.cor-lesao')?.value || '';
                    const forma = lesao.querySelector('.forma-lesao')?.value || '';
                    const bordas = lesao.querySelector('.bordas-lesao')?.value || '';
                    const superficie = lesao.querySelector('.superficie-lesao')?.value || '';
                    const distribuicao = lesao.querySelector('.distribuicao-lesao')?.value || '';
                    
                    if (tipo) {
                        relatorio += `Les√£o ${index+1}: ${tipo}`;
                        if (cor) relatorio += `, ${cor}`;
                        if (forma) relatorio += `, forma ${forma}`;
                        if (bordas) relatorio += `, bordas ${bordas}`;
                        if (superficie) relatorio += `, superf√≠cie ${superficie}`;
                        if (distribuicao) relatorio += `, distribui√ß√£o ${distribuicao}`;
                        relatorio += `\n`;
                    }
                });
            }
            
            // F√¢neros
            const unhas = document.getElementById('unhas').value;
            const cabelos = document.getElementById('cabelos').value;
            const mucosas = document.getElementById('mucosas').value;
            if (unhas || cabelos || mucosas) {
                relatorio += `\n**F√ÇNEROS**\n`;
                if (unhas) relatorio += `Unhas: ${unhas}\n`;
                if (cabelos) relatorio += `Cabelos/Pelos: ${cabelos}\n`;
                if (mucosas) relatorio += `Mucosas: ${mucosas}\n`;
            }
            
            // Hip√≥teses
            relatorio += `\n**HIP√ìTESES DIAGN√ìSTICAS**\n`;
            relatorio += document.getElementById('hdDisplay').innerText + '\n\n';
            
            // Conduta
            relatorio += `**CONDUTA**\n`;
            relatorio += document.getElementById('condutaGerada').innerText;
            
            const relatorioDiv = document.getElementById('relatorioCompleto');
            relatorioDiv.style.display = 'block';
            document.getElementById('conteudoRelatorio').innerHTML = relatorio.replace(/\n/g, '<br>');
        }

        function copiarTexto() {
            const relatorioDiv = document.getElementById('relatorioCompleto');
            if (relatorioDiv.style.display === 'none') {
                alert('Gere o relat√≥rio completo primeiro!');
                return;
            }
            
            const texto = document.getElementById('conteudoRelatorio').innerText;
            navigator.clipboard.writeText(texto).then(() => {
                alert('Relat√≥rio copiado para a √°rea de transfer√™ncia!');
            }).catch(() => {
                alert('Erro ao copiar texto. Selecione e copie manualmente.');
            });
        }

        function limparFormulario() {
            if (confirm('Tem certeza que deseja limpar todos os dados?')) {
                location.reload();
            }
        }

        // Inicializar com gera√ß√£o autom√°tica
        window.onload = function() {
            gerarHDeConduta();
        };
    </script>
</body>
    </html>
