<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Dermatol√≥gica - Anamnese e Exame F√≠sico</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f4f8;
            padding: 20px;
            color: #2c3e50;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: #1e3c5c;
            margin-bottom: 25px;
            font-size: 2.2em;
            border-bottom: 4px solid #3498db;
            padding-bottom: 10px;
        }

        h2 {
            color: #2c5282;
            margin: 25px 0 15px 0;
            font-size: 1.5em;
            background: #e8f0fe;
            padding: 10px;
            border-radius: 8px;
        }

        h3 {
            color: #2d3748;
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 6px solid #3498db;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2d3748;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.1);
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #219a52;
        }

        .btn-info {
            background: #f39c12;
        }

        .btn-info:hover {
            background: #e67e22;
        }

        .result-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e2e8f0;
        }

        .hda-display {
            background: #edf7ed;
            padding: 20px;
            border-radius: 8px;
            border-left: 6px solid #27ae60;
            margin: 20px 0;
            font-size: 16px;
            line-height: 1.6;
        }

        .conduta-display {
            background: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            border-left: 6px solid #f39c12;
            margin: 20px 0;
            line-height: 1.6;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .badge-info {
            background: #3498db;
            color: white;
        }

        .imc-result {
            font-size: 18px;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .imc-normal { background: #c8e6c9; color: #1b5e20; }
        .imc-sobrepeso { background: #fff9c4; color: #ff6f00; }
        .imc-obesidade { background: #ffcdd2; color: #b71c1c; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #f7fafc;
            font-weight: 600;
        }

        .medicamento-item {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .sinais-especificos {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        .lesao-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã Consulta Dermatol√≥gica - Anamnese e Exame F√≠sico</h1>

        <!-- Identifica√ß√£o e Dados B√°sicos -->
        <div class="card">
            <h2>1. Identifica√ß√£o do Paciente</h2>
            <div class="grid-2">
                <div class="form-group">
                    <label>Nome Completo</label>
                    <input type="text" id="nome" placeholder="Digite o nome do paciente">
                </div>
                <div class="form-group">
                    <label>Data da Consulta</label>
                    <input type="date" id="dataConsulta" value="2026-02-17">
                </div>
            </div>
            
            <div class="grid-4">
                <div class="form-group">
                    <label>Idade (anos)</label>
                    <input type="number" id="idade" min="0" max="120" onchange="calcularIMC()">
                </div>
                <div class="form-group">
                    <label>Sexo</label>
                    <select id="sexo">
                        <option value="">Selecione</option>
                        <option value="Feminino">Feminino</option>
                        <option value="Masculino">Masculino</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Peso (kg)</label>
                    <input type="number" id="peso" step="0.1" onchange="calcularIMC()">
                </div>
                <div class="form-group">
                    <label>Altura (m)</label>
                    <input type="number" id="altura" step="0.01" onchange="calcularIMC()">
                </div>
            </div>
            
            <div class="grid-2">
                <div class="form-group">
                    <label>Profiss√£o</label>
                    <input type="text" id="profissao" placeholder="Ex: Cabelereira, Pedreiro...">
                </div>
                <div class="form-group">
                    <label>Proced√™ncia</label>
                    <input type="text" id="procedencia" placeholder="Cidade/Estado">
                </div>
            </div>
            
            <div id="imcDisplay" class="imc-result" style="display:none;"></div>
        </div>

        <!-- Queixa Principal -->
        <div class="card">
            <h2>2. Queixa Principal</h2>
            <div class="form-group">
                <label>"O que mais incomoda o(a) senhor(a) na pele?"</label>
                <textarea id="queixa" placeholder="Ex: Manchas vermelhas que co√ßam h√° 2 meses..."></textarea>
            </div>
        </div>

        <!-- Hist√≥ria Pr√©via e Medicamentos -->
        <div class="grid-2">
            <div class="card">
                <h2>3. Hist√≥ria Pr√©via</h2>
                <div class="form-group">
                    <label>Antecedentes Pessoais Dermatol√≥gicos</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" value="Acne"> Acne</div>
                        <div class="checkbox-item"><input type="checkbox" value="Psor√≠ase"> Psor√≠ase</div>
                        <div class="checkbox-item"><input type="checkbox" value="Dermatite at√≥pica"> Dermatite at√≥pica</div>
                        <div class="checkbox-item"><input type="checkbox" value="Hansen√≠ase"> Hansen√≠ase</div>
                        <div class="checkbox-item"><input type="checkbox" value="Vitiligo"> Vitiligo</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Antecedentes Cl√≠nicos</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" value="Diabetes"> Diabetes</div>
                        <div class="checkbox-item"><input type="checkbox" value="HAS"> HAS</div>
                        <div class="checkbox-item"><input type="checkbox" value="Dislipidemia"> Dislipidemia</div>
                        <div class="checkbox-item"><input type="checkbox" value="Doen√ßa autoimune"> Doen√ßa autoimune</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Alergias</label>
                    <input type="text" id="alergias" placeholder="Medicamentosas, alimentares, cosm√©ticos...">
                </div>
            </div>

            <div class="card">
                <h2>4. Medicamentos em Uso</h2>
                <div id="medicamentos-container">
                    <div class="medicamento-item">
                        <input type="text" placeholder="Nome do medicamento" class="med-nome">
                        <input type="text" placeholder="Dose" class="med-dose">
                        <input type="text" placeholder="Tempo de uso" class="med-tempo">
                        <input type="text" placeholder="Indica√ß√£o" class="med-indicacao">
                    </div>
                </div>
                <button class="btn" onclick="adicionarMedicamento()">+ Adicionar Medicamento</button>
            </div>
        </div>

        <!-- Hist√≥ria da Doen√ßa Atual -->
        <div class="card">
            <h2>5. Hist√≥ria da Doen√ßa Atual (HDA)</h2>
            <div class="grid-3">
                <div class="form-group">
                    <label>In√≠cio</label>
                    <select id="inicio">
                        <option value="">Selecione</option>
                        <option value="s√∫bito">S√∫bito</option>
                        <option value="insidioso">Insidioso</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Evolu√ß√£o</label>
                    <select id="evolucao">
                        <option value="">Selecione</option>
                        <option value="aumento n√∫mero">Aumento do n√∫mero</option>
                        <option value="aumento tamanho">Aumento do tamanho</option>
                        <option value="migra√ß√£o">Migra√ß√£o</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Localiza√ß√£o inicial</label>
                    <input type="text" id="localInicial">
                </div>
            </div>

            <div class="form-group">
                <label>Sintomas Associados</label>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" value="prurido"> Prurido</div>
                    <div class="checkbox-item"><input type="checkbox" value="dor"> Dor</div>
                    <div class="checkbox-item"><input type="checkbox" value="ardor"> Ardor</div>
                    <div class="checkbox-item"><input type="checkbox" value="descama√ß√£o"> Descama√ß√£o</div>
                    <div class="checkbox-item"><input type="checkbox" value="sangramento"> Sangramento</div>
                    <div class="checkbox-item"><input type="checkbox" value="secre√ß√£o"> Secre√ß√£o</div>
                    <div class="checkbox-item"><input type="checkbox" value="febre"> Febre</div>
                </div>
            </div>

            <div class="form-group">
                <label>Fatores de melhora/piora</label>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" value="sol"> Sol</div>
                    <div class="checkbox-item"><input type="checkbox" value="calor"> Calor</div>
                    <div class="checkbox-item"><input type="checkbox" value="frio"> Frio</div>
                    <div class="checkbox-item"><input type="checkbox" value="banho"> Banho</div>
                    <div class="checkbox-item"><input type="checkbox" value="sab√£o"> Sab√£o</div>
                    <div class="checkbox-item"><input type="checkbox" value="estresse"> Estresse</div>
                </div>
            </div>

            <div class="form-group">
                <label>Tratamentos pr√©vios realizados</label>
                <textarea id="tratamentosPrevios" placeholder="Pomadas, corticoides, antif√∫ngicos..."></textarea>
            </div>

            <button class="btn btn-success" onclick="gerarHDA()">ü§ñ Gerar HDA Autom√°tica</button>
            
            <div id="hdaGerada" class="hda-display" style="display:none;"></div>
        </div>

        <!-- Exame F√≠sico Dermatol√≥gico -->
        <div class="card">
            <h2>6. Exame F√≠sico Dermatol√≥gico</h2>
            
            <h3>6.1 Inspe√ß√£o Geral</h3>
            <div class="grid-2">
                <div class="form-group">
                    <label>Cor da pele</label>
                    <input type="text" id="corPele" placeholder="Branca, parda, negra...">
                </div>
                <div class="form-group">
                    <label>Textura</label>
                    <select id="textura">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="√°spera">√Åspera</option>
                        <option value="lisa">Lisa</option>
                        <option value="enrugada">Enrugada</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Hidrata√ß√£o</label>
                    <select id="hidratacao">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="xer√≥tica">Xer√≥tica (seca)</option>
                        <option value="sudorenta">Sudorenta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Elasticidade/Turgor</label>
                    <select id="turgor">
                        <option value="">Selecione</option>
                        <option value="normal">Normal</option>
                        <option value="diminu√≠do">Diminu√≠do</option>
                    </select>
                </div>
            </div>

            <h3>6.2 Les√µes Elementares</h3>
            <div id="lesoes-container">
                <div class="lesao-card">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Tipo de les√£o</label>
                            <select class="tipo-lesao">
                                <option value="">Selecione</option>
                                <optgroup label="Conte√∫do L√≠quido">
                                    <option value="ves√≠cula">Ves√≠cula (&lt;1cm)</option>
                                    <option value="bolha">Bolha (&gt;1cm)</option>
                                    <option value="p√∫stula">P√∫stula</option>
                                    <option value="abscesso">Abscesso</option>
                                    <option value="hematoma">Hematoma</option>
                                    <option value="cisto">Cisto</option>
                                </optgroup>
                                <optgroup label="Les√µes Planas">
                                    <option value="m√°cula">M√°cula</option>
                                    <option value="mancha">Mancha</option>
                                </optgroup>
                                <optgroup label="Les√µes S√≥lidas">
                                    <option value="p√°pula">P√°pula (&lt;1cm)</option>
                                    <option value="placa">Placa (&gt;1cm)</option>
                                    <option value="n√≥dulo">N√≥dulo (1-3cm)</option>
                                    <option value="goma">Goma</option>
                                    <option value="urtica">Urtica</option>
                                    <option value="vegeta√ß√£o">Vegeta√ß√£o</option>
                                </optgroup>
                                <optgroup label="Secund√°rias">
                                    <option value="atrofia">Atrofia</option>
                                    <option value="cicatriz">Cicatriz</option>
                                    <option value="liquenifica√ß√£o">Liquenifica√ß√£o</option>
                                    <option value="queratose">Queratose</option>
                                    <option value="crosta">Crosta</option>
                                    <option value="eros√£o">Eros√£o/Exulcera√ß√£o</option>
                                    <option value="√∫lcera">√ölcera</option>
                                    <option value="escama">Escama</option>
                                    <option value="escara">Escara</option>
                                    <option value="fissura">Fissura</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Cor</label>
                            <input type="text" class="cor-lesao" placeholder="Eritematosa, hipocr√¥mica...">
                        </div>
                        <div class="form-group">
                            <label>Forma</label>
                            <input type="text" class="forma-lesao" placeholder="Circular, anular...">
                        </div>
                        <div class="form-group">
                            <label>Bordas</label>
                            <select class="bordas-lesao">
                                <option value="n√≠tidas">N√≠tidas</option>
                                <option value="mal definidas">Mal definidas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Distribui√ß√£o</label>
                            <input type="text" class="distribuicao-lesao" placeholder="Sim√©trica, localizada...">
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn" onclick="adicionarLesao()">+ Adicionar Les√£o</button>

            <h3>6.3 Sinais Dermatol√≥gicos Espec√≠ficos</h3>
            <div class="sinais-especificos">
                <div class="checkbox-item"><input type="checkbox" value="Darier"> Sinal de Darier (mastocitose)</div>
                <div class="checkbox-item"><input type="checkbox" value="Koebner"> Sinal de Koebner</div>
                <div class="checkbox-item"><input type="checkbox" value="Patergia"> Patergia</div>
                <div class="checkbox-item"><input type="checkbox" value="Zireli"> Sinal de Zireli</div>
            </div>

            <h3>6.4 F√¢neros (Unhas, Cabelos, Pelos)</h3>
            <div class="grid-3">
                <div class="form-group">
                    <label>Unhas</label>
                    <input type="text" id="unhas" placeholder="Coilon√≠quia, pitting, onic√≥lise...">
                </div>
                <div class="form-group">
                    <label>Cabelos/Pelos</label>
                    <input type="text" id="cabelos" placeholder="Alopecia, hipertricose...">
                </div>
                <div class="form-group">
                    <label>Mucosas</label>
                    <input type="text" id="mucosas" placeholder="Enantema, les√µes...">
                </div>
            </div>
        </div>

        <!-- Hip√≥teses e Conduta -->
        <div class="card">
            <h2>7. Hip√≥teses Diagn√≥sticas</h2>
            <div class="form-group">
                <label>Hip√≥tese Principal</label>
                <input type="text" id="hipotesePrincipal" placeholder="Ex: Psor√≠ase em placas">
            </div>
            <div class="form-group">
                <label>Diagn√≥stico Diferencial (2-3 possibilidades)</label>
                <textarea id="diagnosticoDiferencial" placeholder="Ex: Eczema cr√¥nico, Pitir√≠ase rubra pilar..."></textarea>
            </div>

            <h2>8. Conduta</h2>
            <button class="btn btn-info" onclick="gerarConduta()">‚öïÔ∏è Gerar Conduta Baseada em Evid√™ncias</button>
            
            <div id="condutaGerada" class="conduta-display" style="display:none;"></div>

            <div class="form-group">
                <label>Exames Complementares Solicitados</label>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" value="Micol√≥gico direto"> Micol√≥gico direto</div>
                    <div class="checkbox-item"><input type="checkbox" value="Baciloscopia"> Baciloscopia</div>
                    <div class="checkbox-item"><input type="checkbox" value="Bi√≥psia de pele"> Bi√≥psia de pele</div>
                    <div class="checkbox-item"><input type="checkbox" value="Dermatoscopia"> Dermatoscopia</div>
                    <div class="checkbox-item"><input type="checkbox" value="Sorologias"> Sorologias</div>
                </div>
            </div>

            <div class="form-group">
                <label>Orienta√ß√µes Gerais</label>
                <textarea id="orientacoes" placeholder="Cuidados com a pele, fotoprote√ß√£o..."></textarea>
            </div>
        </div>

        <!-- Bot√µes Finais -->
        <div style="display: flex; gap: 10px; margin: 30px 0;">
            <button class="btn btn-success" onclick="gerarRelatorioCompleto()">üìã Gerar Relat√≥rio Completo</button>
            <button class="btn" onclick="copiarTexto()">üìã Copiar Relat√≥rio</button>
            <button class="btn" onclick="limparFormulario()">üîÑ Novo Atendimento</button>
        </div>

        <!-- Relat√≥rio Completo -->
        <div class="result-box" id="relatorioCompleto" style="display:none;">
            <h3>üìÑ RELAT√ìRIO DA CONSULTA DERMATOL√ìGICA</h3>
            <div id="conteudoRelatorio"></div>
        </div>
    </div>

    <script>
        // Fun√ß√µes auxiliares
        function calcularIMC() {
            const peso = parseFloat(document.getElementById('peso').value);
            const altura = parseFloat(document.getElementById('altura').value);
            const imcDisplay = document.getElementById('imcDisplay');
            
            if (peso && altura) {
                const imc = peso / (altura * altura);
                const imcClassificacao = classificarIMC(imc);
                
                imcDisplay.style.display = 'block';
                imcDisplay.innerHTML = `<strong>IMC:</strong> ${imc.toFixed(2)} kg/m¬≤ - ${imcClassificacao}`;
                imcDisplay.className = `imc-result ${getIMCClass(imc)}`;
            }
        }

        function classificarIMC(imc) {
            if (imc < 18.5) return 'Abaixo do peso';
            if (imc < 25) return 'Peso normal';
            if (imc < 30) return 'Sobrepeso';
            if (imc < 35) return 'Obesidade grau I';
            if (imc < 40) return 'Obesidade grau II';
            return 'Obesidade grau III';
        }

        function getIMCClass(imc) {
            if (imc < 25) return 'imc-normal';
            if (imc < 30) return 'imc-sobrepeso';
            return 'imc-obesidade';
        }

        function adicionarMedicamento() {
            const container = document.getElementById('medicamentos-container');
            const novoMed = document.createElement('div');
            novoMed.className = 'medicamento-item';
            novoMed.innerHTML = `
                <input type="text" placeholder="Nome do medicamento" class="med-nome">
                <input type="text" placeholder="Dose" class="med-dose">
                <input type="text" placeholder="Tempo de uso" class="med-tempo">
                <input type="text" placeholder="Indica√ß√£o" class="med-indicacao">
            `;
            container.appendChild(novoMed);
        }

        function adicionarLesao() {
            const container = document.getElementById('lesoes-container');
            const novaLesao = document.createElement('div');
            novaLesao.className = 'lesao-card';
            novaLesao.innerHTML = `
                <div class="grid-2">
                    <div class="form-group">
                        <label>Tipo de les√£o</label>
                        <select class="tipo-lesao">
                            <option value="">Selecione</option>
                            <optgroup label="Conte√∫do L√≠quido">
                                <option value="ves√≠cula">Ves√≠cula (&lt;1cm)</option>
                                <option value="bolha">Bolha (&gt;1cm)</option>
                                <option value="p√∫stula">P√∫stula</option>
                                <option value="abscesso">Abscesso</option>
                                <option value="hematoma">Hematoma</option>
                                <option value="cisto">Cisto</option>
                            </optgroup>
                            <optgroup label="Les√µes Planas">
                                <option value="m√°cula">M√°cula</option>
                                <option value="mancha">Mancha</option>
                            </optgroup>
                            <optgroup label="Les√µes S√≥lidas">
                                <option value="p√°pula">P√°pula (&lt;1cm)</option>
                                <option value="placa">Placa (&gt;1cm)</option>
                                <option value="n√≥dulo">N√≥dulo (1-3cm)</option>
                                <option value="goma">Goma</option>
                                <option value="urtica">Urtica</option>
                                <option value="vegeta√ß√£o">Vegeta√ß√£o</option>
                            </optgroup>
                            <optgroup label="Secund√°rias">
                                <option value="atrofia">Atrofia</option>
                                <option value="cicatriz">Cicatriz</option>
                                <option value="liquenifica√ß√£o">Liquenifica√ß√£o</option>
                                <option value="queratose">Queratose</option>
                                <option value="crosta">Crosta</option>
                                <option value="eros√£o">Eros√£o/Exulcera√ß√£o</option>
                                <option value="√∫lcera">√ölcera</option>
                                <option value="escama">Escama</option>
                                <option value="escara">Escara</option>
                                <option value="fissura">Fissura</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Cor</label>
                        <input type="text" class="cor-lesao" placeholder="Eritematosa, hipocr√¥mica...">
                    </div>
                    <div class="form-group">
                        <label>Forma</label>
                        <input type="text" class="forma-lesao" placeholder="Circular, anular...">
                    </div>
                    <div class="form-group">
                        <label>Bordas</label>
                        <select class="bordas-lesao">
                            <option value="n√≠tidas">N√≠tidas</option>
                            <option value="mal definidas">Mal definidas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Distribui√ß√£o</label>
                        <input type="text" class="distribuicao-lesao" placeholder="Sim√©trica, localizada...">
                    </div>
                </div>
            `;
            container.appendChild(novaLesao);
        }

        function gerarHDA() {
            const queixa = document.getElementById('queixa').value || 'sem queixa principal definida';
            const inicio = document.getElementById('inicio').value || 'n√£o especificado';
            const evolucao = document.getElementById('evolucao').value || 'n√£o especificada';
            const localInicial = document.getElementById('localInicial').value || 'n√£o especificada';
            
            // Sintomas associados
            const sintomas = [];
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                if (cb.parentElement.parentElement && cb.parentElement.parentElement.querySelector('label')?.innerText === 'Sintomas Associados') {
                    sintomas.push(cb.value);
                }
            });
            
            // Fatores
            const fatores = [];
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                if (cb.parentElement.parentElement && cb.parentElement.parentElement.querySelector('label')?.innerText === 'Fatores de melhora/piora') {
                    fatores.push(cb.value);
                }
            });
            
            const tratamentos = document.getElementById('tratamentosPrevios').value;
            
            let hda = `Paciente relata ${queixa}. `;
            hda += `In√≠cio ${inicio}, com evolu√ß√£o caracterizada por ${evolucao}. `;
            hda += `Localiza√ß√£o inicial: ${localInicial}. `;
            
            if (sintomas.length > 0) {
                hda += `Sintomas associados: ${sintomas.join(', ')}. `;
            }
            
            if (fatores.length > 0) {
                hda += `Fatores que influenciam: ${fatores.join(', ')}. `;
            }
            
            if (tratamentos) {
                hda += `Tratamentos pr√©vios realizados: ${tratamentos}. `;
            }
            
            const hdaDisplay = document.getElementById('hdaGerada');
            hdaDisplay.style.display = 'block';
            hdaDisplay.innerHTML = `<strong>HDA Gerada:</strong> ${hda}`;
        }

        function gerarConduta() {
            const hipotese = document.getElementById('hipotesePrincipal').value || 'a ser definida';
            const orientacoes = document.getElementById('orientacoes').value || '';
            
            let conduta = `**CONDUTA BASEADA EM EVID√äNCIAS**\n\n`;
            conduta += `Com base na hip√≥tese diagn√≥stica de "${hipotese}", recomenda-se:\n\n`;
            conduta += `1. **ORIENTA√á√ïES GERAIS DE CUIDADO CUT√ÇNEO:**\n`;
            conduta += `   ‚Ä¢ Limpeza suave com sabonetes syndet ou neutros\n`;
            conduta += `   ‚Ä¢ Hidrata√ß√£o di√°ria com cremes/lo√ß√µes emolientes\n`;
            conduta += `   ‚Ä¢ Fotoprote√ß√£o rigorosa com FPS ‚â• 30, reaplicar a cada 3-4h\n`;
            conduta += `   ‚Ä¢ Evitar fatores desencadeantes identificados\n\n`;
            
            conduta += `2. **TRATAMENTO FARMACOL√ìGICO (a individualizar):**\n`;
            conduta += `   ‚Ä¢ Considerar corticoides t√≥picos de pot√™ncia adequada √† √°rea\n`;
            conduta += `   ‚Ä¢ Se infec√ß√£o: antibi√≥ticos/antif√∫ngicos t√≥picos ou sist√™micos\n`;
            conduta += `   ‚Ä¢ Se prurido intenso: anti-histam√≠nicos orais\n\n`;
            
            conduta += `3. **EXAMES COMPLEMENTARES:**\n`;
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                if (cb.parentElement.parentElement && cb.parentElement.parentElement.querySelector('label')?.innerText === 'Exames Complementares Solicitados') {
                    conduta += `   ‚Ä¢ ${cb.value}\n`;
                }
            });
            
            if (orientacoes) {
                conduta += `\n4. **ORIENTA√á√ïES ESPEC√çFICAS:**\n   ${orientacoes}\n`;
            }
            
            conduta += `\n5. **RETORNO:**\n   ‚Ä¢ Agendar retorno em 30-60 dias para reavalia√ß√£o\n   ‚Ä¢ Retornar antes se piora ou sinais de alarme`;
            
            const condutaDisplay = document.getElementById('condutaGerada');
            condutaDisplay.style.display = 'block';
            condutaDisplay.innerHTML = conduta.replace(/\n/g, '<br>');
        }

        function gerarRelatorioCompleto() {
            let relatorio = '';
            
            // Identifica√ß√£o
            const nome = document.getElementById('nome').value || 'N√£o informado';
            const idade = document.getElementById('idade').value || 'N√£o informada';
            const sexo = document.getElementById('sexo').value || 'N√£o informado';
            const peso = document.getElementById('peso').value || 'N√£o informado';
            const altura = document.getElementById('altura').value || 'N√£o informado';
            const profissao = document.getElementById('profissao').value || 'N√£o informada';
            const procedencia = document.getElementById('procedencia').value || 'N√£o informada';
            const dataConsulta = document.getElementById('dataConsulta').value || new Date().toLocaleDateString();
            
            relatorio += `**IDENTIFICA√á√ÉO**\n`;
            relatorio += `Nome: ${nome} | Idade: ${idade} | Sexo: ${sexo}\n`;
            relatorio += `Peso: ${peso}kg | Altura: ${altura}m\n`;
            if (peso !== 'N√£o informado' && altura !== 'N√£o informado') {
                const imc = (peso / (altura * altura)).toFixed(2);
                const classificacao = classificarIMC(parseFloat(peso), parseFloat(altura));
                relatorio += `IMC: ${imc} kg/m¬≤ (${classificacao})\n`;
            }
            relatorio += `Profiss√£o: ${profissao} | Proced√™ncia: ${procedencia}\n`;
            relatorio += `Data da consulta: ${dataConsulta}\n\n`;
            
            // Queixa Principal
            const queixa = document.getElementById('queixa').value || 'N√£o informada';
            relatorio += `**QUEIXA PRINCIPAL**\n${queixa}\n\n`;
            
            // Medicamentos
            relatorio += `**MEDICAMENTOS EM USO**\n`;
            const medicamentos = document.querySelectorAll('.medicamento-item');
            if (medicamentos.length > 0) {
                medicamentos.forEach((med, index) => {
                    const nome = med.querySelector('.med-nome')?.value || 'N√£o informado';
                    const dose = med.querySelector('.med-dose')?.value || '';
                    const tempo = med.querySelector('.med-tempo')?.value || '';
                    const indicacao = med.querySelector('.med-indicacao')?.value || '';
                    relatorio += `‚Ä¢ ${nome} - ${dose} - ${tempo} (${indicacao})\n`;
                });
            } else {
                relatorio += `Nenhum medicamento informado\n`;
            }
            relatorio += `\n`;
            
            // HDA
            const hdaDisplay = document.getElementById('hdaGerada').innerHTML;
            if (hdaDisplay) {
                relatorio += `**HIST√ìRIA DA DOEN√áA ATUAL**\n${hdaDisplay.replace(/<[^>]*>/g, ' ')}\n\n`;
            }
            
            // Exame F√≠sico
            relatorio += `**EXAME F√çSICO DERMATOL√ìGICO**\n`;
            relatorio += `‚Ä¢ Cor: ${document.getElementById('corPele').value || 'N√£o informada'}\n`;
            relatorio += `‚Ä¢ Textura: ${document.getElementById('textura').value || 'N√£o informada'}\n`;
            relatorio += `‚Ä¢ Hidrata√ß√£o: ${document.getElementById('hidratacao').value || 'N√£o informada'}\n`;
            relatorio += `‚Ä¢ Turgor/Elasticidade: ${document.getElementById('turgor').value || 'N√£o informado'}\n\n`;
            
            // Les√µes
            relatorio += `**LES√ïES ELEMENTARES**\n`;
            const lesoes = document.querySelectorAll('.lesao-card');
            if (lesoes.length > 0) {
                lesoes.forEach((lesao, index) => {
                    const tipo = lesao.querySelector('.tipo-lesao')?.value || 'N√£o informado';
                    const cor = lesao.querySelector('.cor-lesao')?.value || 'N√£o informada';
                    const forma = lesao.querySelector('.forma-lesao')?.value || 'N√£o informada';
                    const bordas = lesao.querySelector('.bordas-lesao')?.value || 'N√£o informadas';
                    const distribuicao = lesao.querySelector('.distribuicao-lesao')?.value || 'N√£o informada';
                    relatorio += `Les√£o ${index+1}: ${tipo}, cor ${cor}, forma ${forma}, bordas ${bordas}, distribui√ß√£o ${distribuicao}\n`;
                });
            } else {
                relatorio += `Nenhuma les√£o descrita\n`;
            }
            relatorio += `\n`;
            
            // Hip√≥teses
            relatorio += `**HIP√ìTESES DIAGN√ìSTICAS**\n`;
            relatorio += `Principal: ${document.getElementById('hipotesePrincipal').value || 'N√£o informada'}\n`;
            relatorio += `Diagn√≥stico Diferencial: ${document.getElementById('diagnosticoDiferencial').value || 'N√£o informado'}\n\n`;
            
            // Conduta
            const condutaDisplay = document.getElementById('condutaGerada').innerHTML;
            if (condutaDisplay) {
                relatorio += `**CONDUTA**\n${condutaDisplay.replace(/<[^>]*>/g, ' ')}\n`;
            }
            
            const relatorioDiv = document.getElementById('relatorioCompleto');
            relatorioDiv.style.display = 'block';
            document.getElementById('conteudoRelatorio').innerHTML = relatorio.replace(/\n/g, '<br>');
        }

        function copiarTexto() {
            const relatorioDiv = document.getElementById('relatorioCompleto');
            if (relatorioDiv.style.display === 'none') {
                alert('Gere o relat√≥rio completo primeiro!');
                return;
            }
            
            const texto = document.getElementById('conteudoRelatorio').innerText;
            navigator.clipboard.writeText(texto).then(() => {
                alert('Relat√≥rio copiado para a √°rea de transfer√™ncia!');
            }).catch(() => {
                alert('Erro ao copiar texto.');
            });
        }

        function limparFormulario() {
            location.reload();
        }
    </script>
</body>
</html>
